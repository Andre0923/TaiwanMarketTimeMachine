---
description: å°‡ Feature Spec çµ±åˆå› System Specï¼Œä¸¦åŒæ­¥æ›´æ–° Design + æ­·å²å°å­˜
handoffs:
  - label: æ›´æ–°å°ˆæ¡ˆä¸Šä¸‹æ–‡
    agent: flowkit.system-context
    prompt: Unify å®Œæˆï¼Œæ›´æ–°å°ˆæ¡ˆä¸Šä¸‹æ–‡
---

# FlowKit Unify Flow

> **ç”¨é€”**ï¼šå°‡ Feature Spec çµ±åˆå› System Specï¼Œä¸¦åŒæ­¥æ›´æ–° Design + æ­·å²å°å­˜  
> **è§¸ç™¼æ™‚æ©Ÿ**ï¼šFeature åˆ†æ”¯é–‹ç™¼å®Œæˆã€æº–å‚™ç™¼ PR åˆä½µè‡³ main ä¹‹å‰  
> **æ†²æ³•ä¾æ“š**ï¼šConstitution Â§6.2ï¼ˆFeature åˆä½µé™åˆ¶ï¼‰  
> **å¥—ä»¶**ï¼šFlowKit

---

## ä½¿ç”¨è€…è¼¸å…¥

```text
$ARGUMENTS
```

> ğŸ’¡ **`--default` æ¨¡å¼**ï¼šè¼¸å…¥ `--default` ç­‰åŒæ–¼ç„¡é¡å¤–æŒ‡ç¤ºï¼Œç›´æ¥åŸ·è¡Œé è¨­æµç¨‹ã€‚

åœ¨ç¹¼çºŒåŸ·è¡Œä¹‹å‰ï¼Œæ‚¨**å¿…é ˆï¼ˆMUSTï¼‰**è€ƒæ…®ä½¿ç”¨è€…è¼¸å…¥ï¼ˆè‹¥éç©ºç™½æˆ– `--default`ï¼‰ã€‚

---

## ç›®æ¨™

å°‡æŒ‡å®šçš„ Feature Specï¼ˆChange Setï¼‰çµ±åˆå› System Specï¼Œç¢ºä¿ï¼š
1. System Spec æˆç‚ºå”¯ä¸€çœŸç›¸ï¼ˆSingle Source of Truthï¼‰
2. Design æ–‡ä»¶åŒæ­¥æ›´æ–°
3. Feature æª”æ¡ˆæ­£ç¢ºå°å­˜
4. åˆä½µæ“ä½œé€šéé©—è­‰

---

## æ“ä½œé™åˆ¶

### æ ¸å¿ƒåŸå‰‡

System Spec æ˜¯åŸºåº•ï¼ŒFeature Spec æ˜¯æ›´æ–°ä¾†æºã€‚

### AI MUST

- ä»¥ System Spec ç‚ºèµ·é»é€²è¡Œåˆä½µ
- è¡çªæ™‚ä»¥ Feature Spec ç‚ºæº–ï¼ˆä»£è¡¨æœ€æ–°è¨­è¨ˆæ„åœ–ï¼‰
- å®Œæ•´ä¿ç•™ Feature Spec æœªæåŠçš„ System Spec å…§å®¹
- åƒ…è™•ç†äººé¡æ˜ç¢ºæŒ‡å®šçš„ Feature
- **éµå¾ª Progressive Disclosure Protocolï¼ˆæ¼¸é€²å¼æ­éœ²å”è­°ï¼‰**

### AI MUST NOT

- è‡ªè¡Œæ±ºå®šè¦åˆä½µå“ªå€‹ Feature
- åˆªé™¤ System Spec ä¸­æœªè¢« Feature è®Šæ›´çš„å…§å®¹
- ã€Œç™¼æ˜ã€Feature Spec æœªå¯«å‡ºçš„å…§å®¹
- å¾ `docs/` ç›®éŒ„è®€å–è¦åŠƒæ–‡ä»¶ä½œç‚ºåˆä½µä¾†æº
- è·¨éçµ±åˆæµç¨‹ç›´æ¥ç™¼ PR
- åœ¨ Unify Flow ä¹‹å¤–ç›´æ¥ä¿®æ”¹ `specs/system/`
- **é é˜²æ€§æ“´è®€ï¼ˆåœ¨è³‡æ–™å……è¶³æ™‚è®€å–è¶…å‡ºå¿…è¦ç¯„åœçš„å…§å®¹ï¼‰**
- **åœ¨è³‡æ–™ä¸è¶³æ™‚é€²è¡Œæ¨æ¸¬æˆ–çŒœæ¸¬**

---

## Progressive Disclosure Protocolï¼ˆæ¼¸é€²å¼æ­éœ²å”è­°ï¼‰

> **æœ¬å”è­°é©ç”¨æ–¼æ•´å€‹ Unify Flowï¼Œç¢ºä¿ AI è¡Œç‚ºå¯æ§ã€å¯è¿½æº¯ã€å¯é©—è­‰ã€‚**

### æ ¸å¿ƒåŸå‰‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è³‡æ–™ä¸è¶³ â†’ åœæ­¢ä¸¦å ±å‘Šï¼Œä¸çŒœæ¸¬                                â”‚
â”‚  å…ˆä½è§£æåº¦æƒæ â†’ å†é‡å°å€™é¸é …ç›®æ·±è®€                           â”‚
â”‚  æ¯æ¬¡æ·±è®€å¿…é ˆè¨˜éŒ„åŸå› ï¼ˆå¯å¯©è¨ˆï¼‰                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æœ€å°è¼‰å…¥æ¸…å–®ï¼ˆMinimal Load Listï¼‰

**åœ¨å„ Phase åŸ·è¡Œæ™‚ï¼Œåƒ…è®€å–ä»¥ä¸‹æŒ‡å®šé …ç›®ï¼š**

| ä¾†æº | åƒ…è®€å– | ä¸è®€å– |
|------|--------|--------|
| **Feature Spec** (`spec.md`) | Section Headers, User Stories (å« AC), Functional/Non-Functional Requirements (è®Šæ›´é …ç›®), Deletion/Modification Markers | å¯¦ä½œç´°ç¯€, æ¸¬è©¦ç­–ç•¥, å…§éƒ¨æŠ€è¡“èªªæ˜ |
| **System Spec** (`specs/system/spec.md`) | Section Headers (å®šä½ç”¨), è¢« Feature è®Šæ›´å½±éŸ¿çš„å°æ‡‰å€æ®µ | æœªæ¶‰åŠçš„å€æ®µï¼ˆä¸ä¸»å‹•å…¨æ–‡è®€å–ï¼‰ |
| **Data Model** (`data-model.md`) | è¢« Feature è®Šæ›´çš„ Entity/Field åç¨±, ç›¸é—œ Relationship å®šç¾© | æœªæ¶‰åŠçš„ Entity å®Œæ•´å…§å®¹ |
| **Contracts** (`contracts/*.md`) | è¢« Feature è®Šæ›´çš„ Endpoint/Event å®šç¾© | æœªæ¶‰åŠçš„ API/Webhook å®Œæ•´å…§å®¹ |
| **Flows** (`flows.md`) | è¢« Feature è®Šæ›´çš„ Flow åç¨±èˆ‡æ­¥é©Ÿ | æœªæ¶‰åŠçš„ Flow å®Œæ•´å…§å®¹ |
| **UI** (`ui/*.md`) | è¢« Feature è®Šæ›´çš„ Screen/Pattern/State ID | æœªæ¶‰åŠçš„ UI å®šç¾©å®Œæ•´å…§å®¹ |

### åˆ†éšæ®µè§£æåº¦ï¼ˆProgressive Resolutionï¼‰

#### Stage 1ï¼šçµæ§‹æƒæï¼ˆStructural Scanï¼‰

**è®€å–ç¯„åœ**ï¼š
- æ‰€æœ‰æª”æ¡ˆçš„ Headers / Section Titles
- Feature Spec çš„ Change Markersï¼ˆæ–°å¢/ä¿®æ”¹/åˆªé™¤ï¼‰
- System Spec çš„å°æ‡‰ Section ä½ç½®

**è¼¸å‡º**ï¼š
- Change Set åˆæ­¥æ¸…å–®
- å¾…æ·±è®€å€™é¸å€æ®µæ¸…å–®

**ç´„æŸ**ï¼š
- æ­¤éšæ®µä¸è®€å–æ®µè½å…§æ–‡
- åªå»ºç«‹å°æ‡‰é—œä¿‚åœ°åœ–

#### Stage 2ï¼šé‡å°æ€§æ·±è®€ï¼ˆTargeted Deep Readï¼‰

**è§¸ç™¼æ¢ä»¶**ï¼šåƒ…å° Stage 1 æ¨™è¨˜çš„å€™é¸å€æ®µåŸ·è¡Œ

**è®€å–ç¯„åœ**ï¼š
- å€™é¸å€æ®µçš„å®Œæ•´å…§å®¹
- ç›¸é„° 3-5 è¡Œï¼ˆç”¨æ–¼ç†è§£ä¸Šä¸‹æ–‡ï¼‰

**ç´„æŸ**ï¼š
- æ¯æ¬¡æ·±è®€å¿…é ˆè¨˜éŒ„è‡³ Escalation Log
- ä¸æ“´å±•è‡³æœªæ¨™è¨˜å€æ®µ

### Escalation Logï¼ˆå‡ç´šæ—¥èªŒï¼‰

åœ¨æœ€çµ‚è¼¸å‡ºä¸­**å¿…é ˆ**åŒ…å«ï¼š

```markdown
## Escalation Logï¼ˆæ·±è®€è¨˜éŒ„ï¼‰

| éšæ®µ | ç›®æ¨™ä½ç½® | æ·±è®€åŸå›  | è®€å–ç¯„åœ |
|------|----------|----------|----------|
| Phase 1 | feature/spec.md:L12-45 | User Story æŠ½å– | 34 lines |
| Phase 2 | system/spec.md:L100-120 | åˆä½µè¡çªè§£æ | 21 lines |
| ... | ... | ... | ... |

**ç¸½æ·±è®€æ¬¡æ•¸**ï¼šN  
**æœ€å° Context å®Œæˆç‡**ï¼šX%ï¼ˆåœ¨ Stage 1 å³å®Œæˆçš„é …ç›®ä½”æ¯”ï¼‰
```

è‹¥æ•´å€‹æµç¨‹åœ¨ Stage 1 å³å¯å®Œæˆæ‰€æœ‰å¿…è¦æ“ä½œï¼Œå‰‡è¨˜éŒ„ï¼š
```markdown
## Escalation Log
Analysis and merge completed within minimal context constraints.
Total deep reads: 0
```

---

## åŸ·è¡Œæ­¥é©Ÿ

### Phase 0ï¼šå‰ç½®æ¢ä»¶æª¢æŸ¥ + è³‡æ–™å¥åº·æª¢æŸ¥ï¼ˆGatekeeperï¼‰

**è¼¸å…¥**ï¼šä½¿ç”¨è€…æŒ‡å®šçš„ Feature åç¨±æˆ–è·¯å¾‘ï¼ˆ$ARGUMENTSï¼‰

**åŸ·è¡Œ**ï¼š

#### 0.1 ç’°å¢ƒæª¢æŸ¥

1. **ç¢ºèªç•¶å‰åˆ†æ”¯**ï¼š
   ```bash
   git branch --show-current
   ```
   - è‹¥é feature åˆ†æ”¯ â†’ ERRORã€Œå¿…é ˆåœ¨ feature åˆ†æ”¯ä¸ŠåŸ·è¡Œ Unify Flowã€

2. **ç¢ºèª Feature ç›®éŒ„å­˜åœ¨**ï¼š
   ```
   specs/features/<NNN-feature-name>/
   ```
   - å¿…é ˆåŒ…å«ï¼š`spec.md`ã€`plan.md`ã€`tasks.md`
   - è‹¥ç¼ºå°‘ä»»ä¸€æª”æ¡ˆ â†’ ERRORã€ŒFeature ç›®éŒ„ä¸å®Œæ•´ï¼Œè«‹å…ˆå®Œæˆ /speckit.tasksã€

3. **ç¢ºèª System å±¤æª”æ¡ˆå­˜åœ¨**ï¼š
   ```
   specs/system/spec.md
   specs/system/data-model.md
   specs/system/flows.md
   specs/system/contracts/
   specs/system/ui/              # ğŸ†• è‹¥ Feature UI Impact â‰  None
   ```
   - è‹¥ç¼ºå°‘å¿…è¦æª”æ¡ˆ â†’ ERRORã€ŒSystem å±¤æª”æ¡ˆä¸å®Œæ•´ã€
   - `specs/system/ui/` ç‚ºæ¢ä»¶å¿…è¦ï¼šåƒ…ç•¶ Feature Spec çš„ UI Impact â‰  None æ™‚æª¢æŸ¥

4. **è¼‰å…¥æ†²æ³•**ï¼š
   - è®€å– `.specify/memory/constitution.md`
   - ç¢ºèª Unify Flow ç›¸é—œæ¢æ¬¾

#### 0.2 è³‡æ–™å¥åº·æª¢æŸ¥ï¼ˆGatekeeperï¼‰ğŸ”’

**åœ¨é€²å…¥ Phase 1 ä¹‹å‰ï¼Œå¿…é ˆåŸ·è¡Œä»¥ä¸‹æª¢æŸ¥ï¼š**

```markdown
### Data Health Check

**Feature Spec å®Œæ•´æ€§ï¼š**
- [ ] å­˜åœ¨æ˜ç¢ºçš„ Change Markersï¼ˆæ–°å¢/ä¿®æ”¹/åˆªé™¤æ¨™è¨˜ï¼‰
- [ ] User Stories åŒ…å« Acceptance Criteria
- [ ] è®Šæ›´é …ç›®æœ‰å¯è¡¡é‡çš„å®Œæˆæ¢ä»¶

**System Spec å¯æ“ä½œæ€§ï¼š**
- [ ] Section çµæ§‹æ¸…æ™°ï¼ˆå¯å®šä½ï¼‰
- [ ] ç„¡æœªè§£æ±ºçš„ TODO/TKTK æ¨™è¨˜åœ¨è®Šæ›´å½±éŸ¿å€

**Design æ–‡ä»¶å¯æ“ä½œæ€§ï¼š**
- [ ] data-model.md å­˜åœ¨ä¸”çµæ§‹å¯è§£æ
- [ ] contracts/ ç›®éŒ„çµæ§‹å®Œæ•´
```

**å¤±æ•—å”è­°ï¼ˆFailure Protocolï¼‰ï¼š**

```
IF any check fails:
  â†’ STOP immediately
  â†’ Output: "INSUFFICIENT DATA: [specific issue]"
  â†’ Recommend: "[specific action to fix]"
  â†’ Do NOT proceed with guessing
```

**è¼¸å‡º**ï¼šå‰ç½®æ¢ä»¶æª¢æŸ¥é€šéï¼Œè¨˜éŒ„ FEATURE_DIR è·¯å¾‘

**é©—è­‰**ï¼š
- [ ] ç•¶å‰ç‚º feature åˆ†æ”¯
- [ ] Feature ç›®éŒ„å®Œæ•´
- [ ] System å±¤æª”æ¡ˆå®Œæ•´
- [ ] æ†²æ³•å·²è¼‰å…¥
- [ ] è³‡æ–™å¥åº·æª¢æŸ¥é€šé

è‹¥ä»»ä¸€é …å¤±æ•— â†’ ä¸­æ­¢ä¸¦å ±å‘Šå…·é«”ç¼ºå¤±

---

### Phase 1ï¼šè§£æ Feature Specï¼ˆChange Setï¼‰â€”â€” ä½è§£æåº¦æƒæ

**è¼¸å…¥**ï¼š`FEATURE_DIR/spec.md`

**åŸ·è¡Œï¼ˆéµå¾ª Stage 1 è¦ç¯„ï¼‰**ï¼š

#### 1.1 çµæ§‹æƒæï¼ˆHeaders Onlyï¼‰

1. **è®€å– Feature Spec çµæ§‹**ï¼š
   ```
   specs/features/<NNN-feature-name>/spec.md
   ```
   - **åƒ…è®€å–**ï¼šSection Headersã€List Item é¦–è¡Œã€æ˜ç¢ºçš„ Change Markers
   - **ä¸è®€å–**ï¼šæ®µè½å…§æ–‡ã€è©³ç´°èªªæ˜

2. **å»ºç«‹è®Šæ›´é¡åˆ¥æ¸…å–®**ï¼ˆåˆæ­¥ï¼‰ï¼š

   | é¡åˆ¥ | æ˜¯å¦æœ‰è®Šæ›´ | å€™é¸å€æ®µ |
   |------|-----------|----------|
   | User Stories | Yes/No | [Section refs] |
   | è¡Œç‚ºæè¿° | Yes/No | [Section refs] |
   | ä»‹é¢è®Šæ›´ | Yes/No | [Section refs] |
   | è³‡æ–™æ¬„ä½ | Yes/No | [Section refs] |
   | UI çµæ§‹  | Yes/No | [Section refs] |
   | æº–å‰‡èª¿æ•´ | Yes/No | [Section refs] |
   | å…¶ä»–å½±éŸ¿ | Yes/No | [Section refs] |

#### 1.2 é‡å°æ€§æ·±è®€ï¼ˆTriggered by Stage 1ï¼‰

3. **åƒ…å°æœ‰è®Šæ›´çš„é¡åˆ¥åŸ·è¡Œæ·±è®€**ï¼š
   - è®€å–å€™é¸å€æ®µçš„å®Œæ•´å…§å®¹
   - è¨˜éŒ„è‡³ Escalation Log

4. **æŠ½å–å·®ç•°è³‡è¨Š**ï¼ˆå»ºç«‹ Change Setï¼‰ï¼š

   | é¡åˆ¥ | æŠ½å–å…§å®¹ |
   |------|----------|
   | User Stories | æ–°å¢/ä¿®æ”¹/åˆªé™¤çš„ User Stories èˆ‡ Acceptance Criteria |
   | è¡Œç‚ºæè¿° | ä¿®æ”¹æˆ–åˆªé™¤çš„è¡Œç‚ºæè¿° |
   | ä»‹é¢è®Šæ›´ | Webhook / API / æ“ä½œæµç¨‹çš„è®Šæ›´ |
   | è³‡æ–™æ¬„ä½ | ä½¿ç”¨è€…å¯æ„ŸçŸ¥è³‡æ–™æ¬„ä½ä¹‹æ–°å¢/è®Šæ›´/ç§»é™¤ |
   | æº–å‰‡èª¿æ•´ | æˆåŠŸæº–å‰‡ / éŒ¯èª¤è™•ç†ä¹‹èª¿æ•´ |
   | å…¶ä»–å½±éŸ¿ | è³‡æ–™æ¨¡å‹ã€ä»‹é¢å¥‘ç´„ã€æµç¨‹çš„è®Šæ›´ |

5. **éæ¿¾æ’é™¤é …ç›®**ï¼ˆä¸å¾—å¯«å…¥ System Specï¼‰ï¼š
   - å¯¦ä½œç´°ç¯€ï¼ˆHOWï¼‰
   - æ¸¬è©¦ç­–ç•¥èˆ‡ä»£ç¢¼èªªæ˜
   - å…§éƒ¨æŠ€è¡“èªªæ˜ï¼ˆæ‡‰è½‰å…¥ Design å±¤ï¼‰

**è¼¸å‡º**ï¼šçµæ§‹åŒ–çš„ Change Set æ¸…å–®

**é©—è­‰**ï¼š
- [ ] Change Set ä¸åŒ…å«å¯¦ä½œç´°ç¯€
- [ ] æ‰€æœ‰è®Šæ›´é …ç›®æœ‰æ˜ç¢ºåˆ†é¡
- [ ] ç„¡éºæ¼çš„ User Stories
- [ ] Escalation Log å·²è¨˜éŒ„æœ¬ Phase çš„æ·±è®€é …ç›®

---

### Phase 2ï¼šåˆä½µè‡³ System Spec â€”â€” æ¼¸é€²å¼åˆä½µ

**è¼¸å…¥**ï¼šChange Setï¼ˆä¾†è‡ª Phase 1ï¼‰ã€`specs/system/spec.md`

**åŸ·è¡Œï¼ˆéµå¾ª Progressive Resolution è¦ç¯„ï¼‰**ï¼š

#### 2.1 å®šä½éšæ®µï¼ˆStage 1ï¼‰

1. **æƒæ System Spec çµæ§‹**ï¼š
   ```
   specs/system/spec.md
   ```
   - **åƒ…è®€å–**ï¼šSection Headersã€å­æ¨™é¡Œ
   - å»ºç«‹ã€ŒChange Set é …ç›® â†” System Spec å€æ®µã€å°æ‡‰è¡¨

2. **æ¨™è¨˜éœ€è¦æ·±è®€çš„å€æ®µ**ï¼š
   - æœ‰å°æ‡‰ Change Set é …ç›®çš„å€æ®µ â†’ æ¨™è¨˜ç‚ºã€Œå¾…æ·±è®€ã€
   - ç„¡å°æ‡‰çš„å€æ®µ â†’ æ¨™è¨˜ç‚ºã€Œä¿ç•™ï¼ˆä¸è®€å–ï¼‰ã€

#### 2.2 åˆä½µéšæ®µï¼ˆStage 2ï¼‰

3. **åƒ…å°ã€Œå¾…æ·±è®€ã€å€æ®µåŸ·è¡Œæ·±è®€ä¸¦åˆä½µ**ï¼š

   | æ“ä½œé¡å‹ | è™•ç†æ–¹å¼ |
   |----------|----------|
   | **æ–°å¢** | å°‡ Feature çš„æ–°åŠŸèƒ½åŠ å…¥ System Spec çš„é©ç•¶ä½ç½® |
   | **ä¿®æ”¹** | ä¾ Feature Spec èª¿æ•´ System Spec ä¸­è¢«è®Šæ›´çš„éƒ¨åˆ† |
   | **è¡çª** | **ä»¥ Feature Spec ç‚ºæº–**ï¼Œæ›´æ–° System Spec |
   | **ä¿ç•™** | Feature Spec æœªæåŠçš„å…§å®¹ **MUST å®Œæ•´ä¿ç•™ï¼Œä¸è®€å–ä¸ä¿®æ”¹** |

4. **æ•´ç†çµæ§‹**ï¼š
   - æŒ‰æ¨¡çµ„/æƒ…å¢ƒæ•´ç†ï¼Œä¸åŸå°è²¼å…¥ Feature Spec å…§å®¹
   - ä¿æŒæ–‡ä»¶çµæ§‹ä¸€è‡´æ€§ã€æ¢åˆ—æ¸…æ™°ã€è¡Œç‚ºå®Œæ•´
   - ç§»é™¤ Feature åç¨±ï¼ˆSystem Spec æ˜¯æ•´é«”è¦æ ¼ï¼‰

**è¼¸å‡º**ï¼šæ›´æ–°å¾Œçš„ `specs/system/spec.md`

**é©—è­‰æª¢æŸ¥æ¸…å–®**ï¼š

```markdown
## System Spec åˆä½µé©—è­‰

- [ ] æ‰€æœ‰ Change Set é …ç›®å·²è™•ç†
- [ ] ç„¡ Feature åç¨±æ®˜ç•™
- [ ] ç„¡å¯¦ä½œç´°ç¯€æ´©æ¼
- [ ] åŸæœ‰å…§å®¹ï¼ˆæœªè®Šæ›´éƒ¨åˆ†ï¼‰å®Œæ•´ä¿ç•™ï¼ˆæœªè®€å–é©—è­‰ï¼‰
- [ ] æ–‡ä»¶çµæ§‹ä¸€è‡´
- [ ] ç„¡ã€Œç™¼æ˜ã€çš„å…§å®¹ï¼ˆéä¾†è‡ª Feature Specï¼‰
- [ ] Escalation Log è¨˜éŒ„å®Œæ•´
```

**é©—è­‰æµç¨‹**ï¼š
1. é€é …æª¢æŸ¥ä¸Šè¿°æ¸…å–®
2. è‹¥ä»»ä¸€é …å¤±æ•— â†’ è¨˜éŒ„å•é¡Œï¼Œé€²è¡Œä¿®æ­£
3. é‡æ–°åŸ·è¡Œé©—è­‰ï¼ˆæœ€å¤š 3 æ¬¡è¿­ä»£ï¼‰
4. è‹¥ 3 æ¬¡å¾Œä»å¤±æ•— â†’ ERRORã€Œåˆä½µé©—è­‰å¤±æ•—ã€ä¸¦åˆ—å‡ºå…·é«”å•é¡Œ

**Git Checkpoint**ï¼šå®Œæˆ System Spec åˆä½µå¾Œï¼ŒåŸ·è¡Œ `git add . && git commit -m "docs: åˆä½µ Feature Spec è‡³ System Spec [FEATURE_NAME]" && git push`ã€‚

---

### Phase 3ï¼šæ›´æ–° System Design â€”â€” æœ€å°ç¯„åœæ›´æ–°

**è¼¸å…¥**ï¼šChange Setï¼ˆä¾†è‡ª Phase 1ï¼Œåƒ…è™•ç†æ¶‰åŠè³‡æ–™/æµç¨‹/ä»‹é¢çš„è®Šæ›´ï¼‰

**åŸ·è¡Œï¼ˆéµå¾ª Progressive Resolution è¦ç¯„ï¼‰**ï¼š

#### 3.0 å‰ç½®åˆ¤æ–·ï¼ˆStage 1ï¼‰

1. **æ ¹æ“š Change Set åˆ¤æ–·æ˜¯å¦éœ€è¦æ›´æ–°å„ Design æª”æ¡ˆ**ï¼š

   | æª”æ¡ˆ | è§¸ç™¼æ¢ä»¶ | éœ€è¦æ›´æ–°ï¼Ÿ |
   |------|----------|-----------|
   | data-model.md | Change Set åŒ…å«è³‡æ–™æ¬„ä½è®Šæ›´ | Yes/No |
   | contracts/webhook.md | Change Set åŒ…å« Webhook è®Šæ›´ | Yes/No |
   | contracts/api.md | Change Set åŒ…å« API è®Šæ›´ | Yes/No |
   | flows.md | Change Set åŒ…å«æµç¨‹è®Šæ›´ | Yes/No |

2. **åƒ…å°ã€ŒYesã€çš„æª”æ¡ˆé€²å…¥æ·±è®€æ›´æ–°**

#### 3.1 Data Model æ›´æ–°ï¼ˆæ¢ä»¶è§¸ç™¼ï¼‰

**ä½ç½®**ï¼š`specs/system/data-model.md`

**è®€å–ç¯„åœ**ï¼šåƒ…è®€å– Change Set æ¶‰åŠçš„ Entity / Field å€æ®µ

**æ›´æ–°é …ç›®**ï¼š
- æ–°å¢/ä¿®æ”¹/åˆªé™¤æ¬„ä½
- æ¬„ä½å‹åˆ¥ã€é è¨­å€¼ã€é©—è­‰æ¢ä»¶
- é—œè¯ï¼ˆRelationshipï¼‰è®Šæ›´
- ä¸è®Šæ¢ä»¶ï¼ˆInvariantsï¼‰æ›´æ–°

#### 3.2 Contracts æ›´æ–°ï¼ˆæ¢ä»¶è§¸ç™¼ï¼‰

**ä½ç½®**ï¼š`specs/system/contracts/`

| æª”æ¡ˆ | æ›´æ–°å…§å®¹ |
|------|----------|
| `webhook.md` | æ–°äº‹ä»¶ã€æ–°æ¬„ä½ã€payload èª¿æ•´ |
| `api.md` | æ–° endpointã€åƒæ•¸è®Šæ›´ |
| `schema.md` | è³‡æ–™è¡¨/æ¬„ä½çš„è®Šæ›´ï¼ˆè‹¥é©ç”¨ï¼‰ |

#### 3.3 Flows æ›´æ–°ï¼ˆæ¢ä»¶è§¸ç™¼ï¼‰

**ä½ç½®**ï¼š`specs/system/flows.md`

**è®€å–ç¯„åœ**ï¼šåƒ…è®€å– Change Set æ¶‰åŠçš„ Flow å€æ®µ

**æ›´æ–°é …ç›®**ï¼š
- æ–°å¢æµç¨‹
- èª¿æ•´æ—¢æœ‰æµç¨‹
- æ–°çš„ç‹€æ…‹é·ç§»æ¢ä»¶
- æ–°çš„æ±ºç­–æ¨¹æˆ–æ¢ä»¶åˆ†æ”¯

#### 3.4 UI æ–‡ä»¶æ›´æ–°ï¼ˆæ¢ä»¶è§¸ç™¼ï¼‰ğŸ†•

**ä½ç½®**ï¼š`specs/system/ui/`

**è§¸ç™¼æ¢ä»¶**ï¼šChange Set åŒ…å« UI çµæ§‹è®Šæ›´

| æª”æ¡ˆ | è§¸ç™¼æ¢ä»¶ | éœ€è¦æ›´æ–°ï¼Ÿ |
|------|----------|-----------|
| ui-structure.md | Change Set åŒ…å«æ–°ç•«é¢/å…ƒä»¶ | Yes/No |
| ux-guidelines.md | Change Set åŒ…å«æ–°æ¨¡å¼/ç‹€æ…‹ | Yes/No |

**æ›´æ–°é …ç›®**ï¼š
- æ–°å¢/ä¿®æ”¹ Screen/Component å®šç¾©
- æ–°å¢/ä¿®æ”¹ Pattern/State å®šç¾©
- æ›´æ–° UI ID ç´¢å¼•
- ç¢ºä¿ Maturity é” L1

**è¼¸å‡º**ï¼šæ›´æ–°å¾Œçš„ Design æª”æ¡ˆï¼ˆåƒ…è®Šæ›´æ¶‰åŠçš„æª”æ¡ˆï¼‰

**é©—è­‰**ï¼š
- [ ] data-model.md èˆ‡ System Spec ä¸€è‡´ï¼ˆåƒ…é©—è­‰è®Šæ›´å€æ®µï¼‰
- [ ] contracts/ èˆ‡ System Spec ä¸€è‡´ï¼ˆåƒ…é©—è­‰è®Šæ›´å€æ®µï¼‰
- [ ] flows.md èˆ‡ System Spec ä¸€è‡´ï¼ˆåƒ…é©—è­‰è®Šæ›´å€æ®µï¼‰
- [ ] æœªæ¶‰åŠå€æ®µç¢ºèªæœªè¢«ä¿®æ”¹
- [ ] Escalation Log è¨˜éŒ„å®Œæ•´

**Git Checkpoint**ï¼šå®Œæˆ System Design æ›´æ–°å¾Œï¼ŒåŸ·è¡Œ `git add . && git commit -m "docs: æ›´æ–° System Design [FEATURE_NAME]" && git push`ã€‚

---

### Phase 4ï¼šå°å­˜ Feature

**è¼¸å…¥**ï¼šFEATURE_DIR è·¯å¾‘ï¼ˆä¾†è‡ª Phase 0ï¼‰

**åŸ·è¡Œ**ï¼š

1. **ç§»å‹•æ•´å€‹ Feature ç›®éŒ„è‡³ history**ï¼š
   ```bash
   # å°‡æ•´å€‹ Feature ç›®éŒ„ç§»è‡³ history
   mv specs/features/NNN-feature-name specs/history/NNN-feature-name
   ```
   
   **å°å­˜å¾Œç›®éŒ„çµæ§‹**ï¼š
   ```
   specs/history/
   â””â”€â”€ NNN-feature-name/           # æ•´å€‹ Feature ç›®éŒ„ç§»å…¥
       â”œâ”€â”€ spec.md
       â”œâ”€â”€ plan.md
       â”œâ”€â”€ tasks.md
       â”œâ”€â”€ quickstart.md            # è‹¥æœ‰
       â””â”€â”€ checklists/              # è‹¥æœ‰
   ```

2. **é©—è­‰ç§»å‹•å®Œæˆ**ï¼š
   - ç¢ºèª `specs/features/NNN-feature-name/` å·²ä¸å­˜åœ¨
   - ç¢ºèª `specs/history/NNN-feature-name/` åŒ…å«æ‰€æœ‰åŸå§‹æª”æ¡ˆ

3. **åˆä½µ Traceability Index**ï¼ˆæ¢ä»¶è§¸ç™¼ï¼‰ï¼š

   **è§¸ç™¼æ¢ä»¶**ï¼šFeature ç›®éŒ„å­˜åœ¨ `traceability-index.md`
   
   **åŸ·è¡Œæ­¥é©Ÿ**ï¼š
   
   a. **è®€å– Feature çš„ traceability-index.md**
   
   b. **è®€å–æˆ–å»ºç«‹ System å±¤çš„ traceability-index.md**
      - ä½ç½®ï¼š`specs/system/traceability-index.md`
      - è‹¥ä¸å­˜åœ¨ï¼Œä¾æ“š `.flowkit/templates/traceability-index-template.md` å»ºç«‹
   
   c. **åˆä½µè¿½æº¯è¨˜éŒ„**ï¼š
      - å°‡ Feature çš„ User Story è¿½æº¯å€å¡Šåˆä½µè‡³ System å±¤
      - ä¿ç•™ System å±¤æ—¢æœ‰çš„å…¶ä»– Feature è¿½æº¯è¨˜éŒ„
      - æ›´æ–°ã€Œæœ€å¾Œæ›´æ–°æ™‚é–“ã€
   
   d. **æ›´æ–°è¦†è“‹ç‡çµ±è¨ˆ**ï¼š
      - é‡æ–°è¨ˆç®—æ•´é«”è¦†è“‹ç‡ï¼ˆåŸºæ–¼ System å±¤æ‰€æœ‰ User Storiesï¼‰
      - æ›´æ–°ã€Œæœªè¦†è“‹é …ç›®æ¸…å–®ã€

   **åˆä½µè¦å‰‡**ï¼š
   | æƒ…æ³ | è™•ç†æ–¹å¼ |
   |------|----------|
   | User Story é¦–æ¬¡å‡ºç¾ | ç›´æ¥æ–°å¢è‡³ System å±¤ |
   | User Story å·²å­˜åœ¨ | ä»¥ Feature ç‰ˆæœ¬è¦†è“‹ï¼ˆFeature æ˜¯æœ€æ–°å¯¦ä½œï¼‰ |
   | èˆŠ Feature çš„ US | ä¿ç•™ï¼ˆä¸åˆªé™¤æ­·å²è¿½æº¯ï¼‰ |

**è¼¸å‡º**ï¼šFeature ç›®éŒ„å·²ç§»å‹•è‡³ historyã€Traceability Index å·²åŒæ­¥

**é©—è­‰**ï¼š
- [ ] `specs/features/NNN-feature-name/` å·²ä¸å­˜åœ¨
- [ ] `specs/history/NNN-feature-name/` åŒ…å«æ‰€æœ‰å°å­˜æª”æ¡ˆ
- [ ] Traceability Index å·²åˆä½µè‡³ System å±¤ï¼ˆè‹¥å­˜åœ¨ï¼‰

**Git Checkpoint**ï¼šå®Œæˆ Feature å°å­˜å¾Œï¼ŒåŸ·è¡Œ `git add . && git commit -m "chore: å°å­˜ Feature [FEATURE_NAME] è‡³ history" && git push`ã€‚

---

### Phase 5ï¼šåˆä½µæ“ä½œé©—è­‰

> **æ³¨æ„**ï¼šæ­¤éšæ®µåƒ…é©—è­‰ã€Œåˆä½µæ“ä½œæœ¬èº«ã€çš„æ­£ç¢ºæ€§ï¼Œéå…¨ç³»çµ±ä¸€è‡´æ€§æª¢æŸ¥ã€‚  
> è·¨ Feature çš„ç³»çµ±ä¸€è‡´æ€§æ‡‰åœ¨ Unify Flow ä¹‹å‰ç”± `/flowkit.pre-unify-check` å®Œæˆã€‚

**è¼¸å…¥**ï¼šPhase 2ã€Phase 3 çš„æ“ä½œçµæœã€Change Setï¼ˆä¾†è‡ª Phase 1ï¼‰

**åŸ·è¡Œ**ï¼š

1. **Feature å…§å®¹æ•´åˆé©—è­‰**ï¼š
   - ç¢ºèª Feature Spec ä¸­çš„æ‰€æœ‰ User Stories å·²æ•´åˆè‡³ System Spec
   - ç¢ºèª Feature Spec ä¸­çš„æ‰€æœ‰ Requirements å·²åæ˜ æ–¼ System Spec

2. **åˆä½µå€æ®µå®Œæ•´æ€§æª¢æŸ¥**ï¼š

   | æª¢æŸ¥é …ç›® | é©—è­‰å…§å®¹ |
   |----------|----------|
   | ç„¡é‡è¤‡ | Change Set é …ç›®æœªé€ æˆ System Spec å…§å®¹é‡è¤‡ |
   | ç„¡éºæ¼ | Change Set é …ç›®å…¨éƒ¨å·²è™•ç†ï¼ˆå°ç…§ Phase 1 æ¸…å–®ï¼‰ |
   | ç„¡çµæ§‹ç ´å£ | System Spec çš„ç« ç¯€çµæ§‹å®Œæ•´ã€Markdown èªæ³•æ­£ç¢º |

3. **ä¿ç•™å€æ®µå®Œæ•´æ€§æª¢æŸ¥**ï¼š
   - ç¢ºèª Phase 2.2 ä¸­æ¨™è¨˜ç‚ºã€Œä¿ç•™ï¼ˆä¸è®€å–ï¼‰ã€çš„å€æ®µ**æœªè¢«ä¿®æ”¹**
   - ä½¿ç”¨ Escalation Log äº¤å‰é©—è­‰ï¼šåƒ…æ·±è®€å€æ®µå…è¨±æœ‰è®Šæ›´

4. **Design åŒæ­¥é©—è­‰**ï¼š

   | æª¢æŸ¥é …ç›® | é©—è­‰å…§å®¹ |
   |----------|----------|
   | data-model.md | è‹¥ Phase 3 è§¸ç™¼æ›´æ–°ï¼Œç¢ºèªå·²åŒæ­¥ |
   | contracts/ | è‹¥ Phase 3 è§¸ç™¼æ›´æ–°ï¼Œç¢ºèªå·²åŒæ­¥ |
   | flows.md | è‹¥ Phase 3 è§¸ç™¼æ›´æ–°ï¼Œç¢ºèªå·²åŒæ­¥ |
   | ui/ | è‹¥ Phase 3 è§¸ç™¼æ›´æ–°ï¼Œç¢ºèªå·²åŒæ­¥ |

5. **Traceability åŒæ­¥é©—è­‰**ï¼ˆæ¢ä»¶è§¸ç™¼ï¼‰ï¼š

   **è§¸ç™¼æ¢ä»¶**ï¼šFeature ç›®éŒ„å­˜åœ¨ `traceability-index.md`
   
   | æª¢æŸ¥é …ç›® | é©—è­‰å…§å®¹ |
   |----------|----------|
   | Feature Index å·²åˆä½µ | System å±¤ traceability-index.md åŒ…å« Feature çš„æ‰€æœ‰ US è¿½æº¯ |
   | è¦†è“‹ç‡å·²æ›´æ–° | è¦†è“‹ç‡æ•¸æ“šåæ˜ åˆä½µå¾Œç‹€æ…‹ |
   | æ ¼å¼æ­£ç¢º | åˆä½µå¾Œçš„ Index ç¬¦åˆ Template çµæ§‹ |

6. **æ®˜ç•™æª¢æŸ¥**ï¼š
   - ç„¡ Feature åç¨±æ®˜ç•™æ–¼ System Spec
   - ç„¡å¯¦ä½œç´°ç¯€æ´©æ¼è‡³ System Spec
   - ç„¡æœªè™•ç†çš„ Change Set é …ç›®

**è¼¸å‡º**ï¼šåˆä½µæ“ä½œé©—è­‰å ±å‘Š

**è™•ç†æª¢æŸ¥çµæœ**ï¼š

| çµæœ | è™•ç†æ–¹å¼ |
|------|----------|
| å…¨éƒ¨é€šé | ç¹¼çºŒ Phase 6 |
| æœ‰å¤±æ•—é …ç›® | è¿”å›å°æ‡‰ Phase ä¿®æ­£ï¼Œæœ€å¤š 3 æ¬¡è¿­ä»£ |
| 3 æ¬¡å¾Œä»å¤±æ•— | ERRORã€Œåˆä½µé©—è­‰å¤±æ•—ï¼Œéœ€äººå·¥ä»‹å…¥ã€|

---

### Phase 6ï¼šç”¢ç”Ÿçµ±åˆæ‘˜è¦

**è¼¸å…¥**ï¼šæ‰€æœ‰ Phase åŸ·è¡Œçµæœã€Escalation Log

**åŸ·è¡Œ**ï¼š

ç”¢ç”Ÿ Markdown æ ¼å¼æ‘˜è¦ï¼Œç”¨æ–¼ PR å…§å®¹ï¼š

```markdown
## Unify Flow çµ±åˆæ‘˜è¦

### Feature è³‡è¨Š
- **Feature åç¨±**ï¼š[NNN-feature-name]
- **åˆ†æ”¯**ï¼š[branch-name]
- **ç‰ˆæœ¬è™Ÿ**ï¼š[vX.Y.Z]

### è®Šæ›´æ‘˜è¦
- [åˆ—å‡ºä¸»è¦è®Šæ›´é …ç›®]

### æ›´æ–°çš„æ–‡ä»¶
| æ–‡ä»¶ | æ›´æ–°é¡å‹ | èªªæ˜ |
|------|----------|------|
| specs/system/spec.md | åˆä½µ | [èªªæ˜] |
| specs/system/data-model.md | æ›´æ–° | [èªªæ˜] |
| specs/system/traceability-index.md | åˆä½µ | [è‹¥æœ‰] |
| ... | ... | ... |

### é‡å¤§è¡Œç‚ºè®Šæ›´
- [è‹¥æœ‰é‡å¤§è®Šæ›´ï¼Œæ˜ç¢ºæ¨™æ³¨]

### Traceability ç‹€æ…‹ï¼ˆè‹¥æœ‰ï¼‰
- è¦†è“‹ç‡ï¼š[X/Y User Stories å·²è¿½æº¯]
- æ–°å¢è¿½æº¯ï¼š[åˆ—å‡ºæ–°å¢çš„ US è¿½æº¯]

### é©—è­‰çµæœ
- åˆä½µæ“ä½œé©—è­‰ï¼šâœ… é€šé
- å°å­˜ç‹€æ…‹ï¼šâœ… å®Œæˆ
```

**è¼¸å‡º**ï¼šçµ±åˆæ‘˜è¦ï¼ˆå¯ç›´æ¥ç”¨æ–¼ PRï¼‰

**Git Checkpoint**ï¼šå®Œæˆ Unify Flow å¾Œï¼ŒåŸ·è¡Œ `git add . && git commit -m "docs: å®Œæˆ Unify Flow [FEATURE_NAME] vX.Y.Z" && git push`ã€‚

---

## å®Œæˆæ¨™æº–ï¼ˆDefinition of Doneï¼‰

çµ±åˆæµç¨‹åƒ…åœ¨ä¸‹åˆ—æ¢ä»¶**å…¨éƒ¨ç¬¦åˆ**æ™‚è¦–ç‚ºå®Œæˆï¼š

```markdown
## Unify Flow DoD æª¢æŸ¥æ¸…å–®

### å¿…è¦æ¢ä»¶
- [ ] `specs/system/spec.md` å®Œæ•´åæ˜ æœ¬æ¬¡è®Šæ›´
- [ ] `specs/system/data-model.md` å·²åŒæ­¥æ›´æ–°ï¼ˆè‹¥æœ‰æ¶‰åŠï¼‰
- [ ] `specs/system/contracts/` å·²åŒæ­¥æ›´æ–°ï¼ˆè‹¥æœ‰æ¶‰åŠï¼‰
- [ ] `specs/system/flows.md` å·²åŒæ­¥æ›´æ–°ï¼ˆè‹¥æœ‰æ¶‰åŠï¼‰
- [ ] `specs/system/ui/` å·²åŒæ­¥æ›´æ–°ï¼ˆè‹¥æœ‰æ¶‰åŠï¼‰
- [ ] `specs/system/traceability-index.md` å·²åˆä½µæ›´æ–°ï¼ˆè‹¥ Feature æœ‰è¿½æº¯ç´¢å¼•ï¼‰
- [ ] Feature ç›®éŒ„å·²ç§»å‹•è‡³ `specs/history/NNN-feature-name/`
- [ ] `specs/features/NNN-feature-name/` å·²ä¸å­˜åœ¨
- [ ] Phase 5 åˆä½µæ“ä½œé©—è­‰é€šé
- [ ] çµ±åˆæ‘˜è¦å·²ç”¢ç”Ÿ
- [ ] Escalation Log å·²å®Œæ•´è¨˜éŒ„

### ç¦æ­¢æ®˜ç•™
- [ ] ç„¡æœªæ•´åˆçš„ Feature Spec ç•™åœ¨ `specs/features/`
- [ ] ç„¡ Feature åç¨±æ®˜ç•™æ–¼ System Spec
- [ ] ç„¡å¯¦ä½œç´°ç¯€æ´©æ¼è‡³ System Spec
- [ ] ç„¡é é˜²æ€§æ“´è®€ï¼ˆéå¿…è¦çš„æ·±è®€è¨˜éŒ„ï¼‰
```

**æœ€çµ‚é©—è­‰**ï¼š
1. é€é …æª¢æŸ¥ DoD æ¸…å–®
2. è‹¥ä»»ä¸€é …å¤±æ•— â†’ è¿”å›å°æ‡‰ Phase ä¿®æ­£
3. å…¨éƒ¨é€šé â†’ å ±å‘Šå®Œæˆï¼Œæä¾› PR å»ºè­°

---

## éŒ¯èª¤è™•ç†

| éŒ¯èª¤æƒ…å¢ƒ | åš´é‡æ€§ | è™•ç†æ–¹å¼ |
|----------|--------|----------|
| Feature ç›®éŒ„ä¸å®Œæ•´ | CRITICAL | ERROR + æŒ‡ç¤ºåŸ·è¡Œç¼ºå°‘çš„ speckit æŒ‡ä»¤ |
| System å±¤æª”æ¡ˆä¸å®Œæ•´ | CRITICAL | ERROR + åˆ—å‡ºç¼ºå°‘çš„æª”æ¡ˆ |
| è³‡æ–™å¥åº·æª¢æŸ¥å¤±æ•— | CRITICAL | STOP + æŒ‡å‡ºå…·é«”ç¼ºå¤±æ¬„ä½ + ä¸é€²è¡ŒçŒœæ¸¬ |
| åˆä½µé©—è­‰å¤±æ•—ï¼ˆ3æ¬¡ï¼‰ | HIGH | ERROR + åˆ—å‡ºå…·é«”å•é¡Œï¼Œå»ºè­°äººå·¥ä»‹å…¥ |
| æ†²æ³•è¡çª | CRITICAL | å¿…é ˆåœ¨ç¹¼çºŒå‰è§£æ±º |

### åš´é‡æ€§å®šç¾©

| ç´šåˆ¥ | å®šç¾© | è™•ç† |
|------|------|------|
| CRITICAL | é˜»æ“‹æ€§å•é¡Œï¼Œç„¡æ³•ç¹¼çºŒ | å¿…é ˆä¿®æ­£å¾Œé‡æ–°åŸ·è¡Œ |
| HIGH | é‡è¦å•é¡Œï¼Œå½±éŸ¿å“è³ª | å¿…é ˆä¿®æ­£ï¼Œè¿”å›å°æ‡‰ Phase |
| MEDIUM | ä¸­ç­‰å•é¡Œ | è¨˜éŒ„ï¼Œå»ºè­°ä¿®æ­£ |
| LOW | è¼•å¾®å•é¡Œ | è¨˜éŒ„ï¼Œå¯é¸ä¿®æ­£ |

---

## è¼¸å‡ºæ ¼å¼

å®Œæˆå¾Œï¼Œè¼¸å‡ºä»¥ä¸‹çµæ§‹ï¼š

```markdown
## Unify Flow åŸ·è¡Œçµæœ

### ç‹€æ…‹ï¼š[æˆåŠŸ / å¤±æ•—]

### åŸ·è¡Œæ‘˜è¦
- Featureï¼š[NNN-feature-name]
- ç‰ˆæœ¬ï¼š[vX.Y.Z]
- åŸ·è¡Œæ™‚é–“ï¼š[timestamp]

### Phase åŸ·è¡Œçµæœ
| Phase | ç‹€æ…‹ | å‚™è¨» |
|-------|------|------|
| Phase 0ï¼šå‰ç½®æª¢æŸ¥ + Gatekeeper | âœ…/âŒ | è³‡æ–™å¥åº·æª¢æŸ¥é€šé/å¤±æ•—åŸå›  |
| Phase 1ï¼šè§£æ Featureï¼ˆä½è§£æåº¦æƒæï¼‰ | âœ…/âŒ | æŠ½å– N é …è®Šæ›´ |
| Phase 2ï¼šåˆä½µ System Specï¼ˆæ¼¸é€²å¼ï¼‰ | âœ…/âŒ | è¿­ä»£ M æ¬¡ |
| Phase 3ï¼šæ›´æ–° Designï¼ˆæœ€å°ç¯„åœï¼‰ | âœ…/âŒ | æ›´æ–° X å€‹æª”æ¡ˆ |
| Phase 4ï¼šå°å­˜ Feature | âœ…/âŒ | - |
| Phase 5ï¼šåˆä½µæ“ä½œé©—è­‰ | âœ…/âŒ | è¿­ä»£ K æ¬¡ |
| Phase 6ï¼šç”¢ç”Ÿæ‘˜è¦ | âœ…/âŒ | - |

### Escalation Logï¼ˆæ·±è®€è¨˜éŒ„ï¼‰
| éšæ®µ | ç›®æ¨™ä½ç½® | æ·±è®€åŸå›  | è®€å–ç¯„åœ |
|------|----------|----------|----------|
| Phase 1 | feature/spec.md:L12-45 | User Story æŠ½å– | 34 lines |
| Phase 2 | system/spec.md:L100-120 | åˆä½µè¡çªè§£æ | 21 lines |
| ... | ... | ... | ... |

**ç¸½æ·±è®€æ¬¡æ•¸**ï¼šN  
**æœ€å° Context å®Œæˆç‡**ï¼šX%

### DoD æª¢æŸ¥çµæœ
[å®Œæ•´æª¢æŸ¥æ¸…å–®ï¼Œæ¨™è¨˜ âœ…/âŒ]

### ä¸‹ä¸€æ­¥
- [ ] æª¢è¦–çµ±åˆæ‘˜è¦
- [ ] æäº¤ PR
- [ ] ç­‰å¾… Review
```

---

## å¿«é€Ÿåƒè€ƒ

### å¿ƒæ™ºæ¨¡å‹

```
System Spec (v1.0)          Feature Spec (NNN-feature)
â”‚                            â”‚
â”‚  â†â”€â”€â”€â”€ æ¼¸é€²å¼åˆä½µ â”€â”€â”€â”€â”€    â”‚
â”‚  (åƒ…è®€å–è®Šæ›´æ¶‰åŠå€æ®µ)       â”‚
â”‚  (è¡çªä»¥ Feature ç‚ºæº–)      â”‚
â–¼                            â”‚
System Spec (v1.1)           â”‚
(åŒ…å«åŸæœ‰ + æœ¬æ¬¡è®Šæ›´)         â†’ ç§»å‹•è‡³ specs/history/NNN-feature/
```

### é—œéµè¦å‰‡

1. **åŸºåº•å„ªå…ˆ**ï¼šä»¥ System Spec ç‚ºèµ·é»
2. **è¡çªä»¥ Feature ç‚ºæº–**ï¼šFeature ä»£è¡¨æœ€æ–°è¨­è¨ˆæ„åœ–
3. **ä¿ç•™æœªæ¶‰åŠéƒ¨åˆ†**ï¼šæœªè®Šæ›´çš„å…§å®¹å¿…é ˆä¿ç•™
4. **åƒ…è™•ç†æŒ‡å®š Feature**ï¼šä¸è‡ªè¡Œæ±ºå®šåˆä½µç¯„åœ
5. **é©—è­‰æœ‰ä¸Šé™**ï¼šæ¯å€‹é©—è­‰æœ€å¤š 3 æ¬¡è¿­ä»£
6. **å”¯ä¸€çœŸç›¸**ï¼šåˆä½µå¾Œ System Spec æ˜¯å”¯ä¸€çœŸç›¸
7. **æ¼¸é€²å¼æ­éœ²**ï¼šå…ˆä½è§£æåº¦æƒæï¼Œå†é‡å°æ€§æ·±è®€
8. **å¯å¯©è¨ˆæ€§**ï¼šæ‰€æœ‰æ·±è®€å¿…é ˆè¨˜éŒ„åŸå› 
9. **è³‡æ–™ä¸è¶³å³åœæ­¢**ï¼šGatekeeper æª¢æŸ¥å¤±æ•—æ™‚ä¸çŒœæ¸¬
